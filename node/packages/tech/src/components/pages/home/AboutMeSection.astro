---
import { parseMd2Html } from "portfolio-shared";
import { Heading, Text, Article, Paragraph } from "portfolio-ui";

import * as styles from "./AboutMeSection.css";
import { aboutMe, resume, summary } from "./md";
import { skills } from "./skills";

const profileBody = await parseMd2Html(aboutMe.default, "dark");
const summaryBody = await parseMd2Html(summary.default, "dark");
const resumeBodies = await Promise.all(
  resume.map(async (item) => await parseMd2Html(item, "dark")),
);
---

<div class={styles.aboutMe}>
  <div class={styles.section} id="about-me">
    <Article
      className={styles.article}
      dangerouslySetInnerHTML={{ __html: profileBody }}
      theme="dark"
    />
  </div>

  <div class={styles.section} id="resume">
    <Heading className={styles.resumeHeading} level="2" color="mono.50">
      Resume
    </Heading>

    <Article
      dangerouslySetInnerHTML={{ __html: summaryBody }}
      theme="dark"
    />

    <div class={styles.careerList}>
      {
        resumeBodies.map((body) => (
          <div class={styles.careerItem}>
            <Article
              className={styles.article}
              dangerouslySetInnerHTML={{ __html: body }}
              theme="dark"
            />
          </div>
        ))
      }
    </div>
  </div>

  <div class={styles.section} id="skills">
    <Heading
      className={`${styles.heading} ${styles.alignCenter}`}
      level="2"
      color="mono.50"
    >
      Technical Skills
    </Heading>

    <div class={styles.skillGrid}>
      {
        skills.map((category) => (
          <div class={styles.skillCategory}>
            <Text color="mono.50" className={styles.skillCategoryTitle}>
              {category.title}
            </Text>
            <ul class={styles.skillList}>
              {category.skills.map((skill) => (
                <li>
                  <Text color="mono.50">{skill}</Text>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>

    <Paragraph align="right">
      <Text color="mono.200" fontSize="4">
        ğŸ‘‘: 3å¹´ä»¥ä¸Šã®å®Ÿå‹™çµŒé¨“<br />
        ğŸ’ª: 3å¹´æœªæº€ã®å®Ÿå‹™çµŒé¨“<br />
        ğŸ¨: å€‹äººé–‹ç™ºã«ã¦ä½¿ç”¨
      </Text>
    </Paragraph>
  </div>
</div>
