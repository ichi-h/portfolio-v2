---
import bbStyle from "baguettebox.js/dist/baguetteBox.min.css?url";

import { About as AboutPage } from "../components/pages/about";
import meMd from "../components/pages/about/me.md?raw";

import { Head } from "../components/parts/head";
import HTML from "../layouts/html.astro";
import { ArticleLayout } from "../layouts/articleLayout";
import { parseMd2Html } from "../components/pages/parseMd2Html";

const meHtml = await parseMd2Html(meMd);
---

<HTML>
  <Fragment slot="head">
    <Head title="About - ichi-h.com" url="/about" ogType="article" />
    <link rel="stylesheet" href={bbStyle} />
  </Fragment>
  <Fragment slot="content">
    <ArticleLayout title="About Me">
      <AboutPage body={meHtml} />
    </ArticleLayout>
  </Fragment>
</HTML>

<script>
  if (document.getElementById('gallery')) {
    import('baguettebox.js').then(({ default: baguetteBox }) => {
      baguetteBox.run('#gallery', {
        filter: /.*/,
        overlayBackgroundColor: 'rgba(0, 0, 0, 0.9)',
      });
    });
  }
</script>
